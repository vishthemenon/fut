<% content_for :page_title do %>
  New Tournament
<% end %>

<% content_for :head do %>
  <link href="https://cdn.jsdelivr.net/npm/tom-select@2.0.0/dist/css/tom-select.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/tom-select@2.0.0/dist/js/tom-select.complete.min.js"></script>
<% end %>

<div class="sm:mx-auto sm:w-full sm:max-w-md">
  <%= image_tag "flag.png", class: "mx-auto h-32 w-32" %>

  <%= form_with model: @tournament, html: { class: "space-y-6 mb-10" } do |f| %>
    <div>
      <%= f.label :name, class: "block text-sm font-medium text-gray-700" %>
      <div class="mt-1">
        <%= f.text_field :name, autofocus: true, class: "appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" %>
      </div>
    </div>

    <div>
      <%= f.label "players", class: "block text-sm font-medium text-gray-700" %>
      <div class="mt-1">
        <%= f.collection_select :players, User.all, :name, :name, {}, { multiple: true, id: "user-select" } %>
      </div>
    </div>
    <button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
      Create New Tournament
    </button>
  </div>
  <% end %>

</div>
<script type="text/javascript" charset="utf-8">
    new TomSelect("#user-select", {
        maxItems: 3
    });
</script>